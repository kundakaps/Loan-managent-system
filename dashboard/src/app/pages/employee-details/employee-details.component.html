<div>
  <app-spinner *ngIf="isLoading">

  </app-spinner>
</div>



<style>
  .custom-btn {
      background-color: #A11F23;
      border-radius: 30px;
      border: none;
      color: white;
      width: 100%;
      font-size: 12px;
  }

  .custom-btn:hover {
      background-color: #FDAE1C !important;
  }
</style>

<div *ngIf="roles.includes('hr-5')" class="row" style="display: flex; justify-content: flex-end; width: 100%;">
  <button (click)="goToEdit(employeeDetails.employee[0].man_no)" style="width: 100px;" class="custom-btn btn">Edit</button>
</div>

<div class="row">

  <div class="col-lg-8 col-md-6 col-sm-6">
      <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
          <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">


            <div style="display: flex; align-items: center; font-family: Arial, sans-serif; padding: 16px; border-radius: 8px; ">
              <!-- Profile Image -->
              <img src="assets/img/profile.png" alt="Profile Picture" style="border-radius: 50%; width: 100px; height: 100px; margin-right: 16px;">

              <!-- Profile Info -->
              <div style="flex: 1;">
                <!-- Name -->
                <div style="font-size: 18px; font-weight: bold; color: #333;">{{employeeDetails.employee[0].first_name}} {{employeeDetails.employee[0].middle_name}} {{employeeDetails.employee[0].last_name}}</div><br/>

                <div style="display: flex; justify-content: space-between; gap: 10px; width :80%">
                  <!-- Origin and Applied Date -->
                  <div style="color: #555;; font-size: 14px; margin-top: 4px; font-size: 13px;">
                    <span>Position:<br/> <b>{{employeeDetails.employee[0].position_description | lowercase | titlecase}}</b></span>
                  </div>
                  <div style="color: #555;; font-size: 14px; margin-top: 4px; font-size: 13px;">
                    <span>Employment Status:<br/> <b>{{employeeDetails.employee[0].employment_status | lowercase | titlecase}}</b></span>
                  </div>

                  <div style="color: #555;; font-size: 14px; margin-top: 4px;font-size: 13px;">
                    Employment type:<br/> <b>{{employeeDetails.employee[0].employment_type_code | lowercase | titlecase}}</b>
                  </div>

                  <div style="color: #555;; font-size: 14px; margin-top: 4px; font-size: 13px;">
                    Date of joining:<br/> <b>{{employeeDetails.employee[0].doe}}</b>
                  </div>
                </div>


              </div>



            </div>


          </div>

      </div>

      <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
        <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">


          <div class="row">

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">ID Type</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].id_type_code | lowercase | titlecase}}" />

              </div>
            </div>

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">ID Number</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].id_no | lowercase | titlecase}}" />

              </div>
            </div>


            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">SSN</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].ssn | lowercase | titlecase}}"/>

              </div>
            </div>

          </div>


          <div class="row">

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">Account No</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].account_no | lowercase | titlecase}}" />

              </div>
            </div>

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">TPIN</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].tpin_no | lowercase | titlecase}}" />

              </div>
            </div>


            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">Nhima No</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].nhima_no | lowercase | titlecase}}"/>

              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">Branch/Department</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].branch_description | lowercase | titlecase}}" />

              </div>
            </div>

            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">Group Affiliation</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].group_affiliation | lowercase | titlecase}}" />

              </div>
            </div>


            <div class="col-md-4 4pr-1">
              <div class="form-group">
                <label style="color:black; font-weight:bold">Grade</label>
                <input style="padding: 5px; border-radius: 1rem" type="text"  id="typePasswordX-2" class="form-control form-control-lg" readonly value="{{employeeDetails.employee[0].grade_description | lowercase | titlecase}}"/>

              </div>
            </div>

          </div>

        </div>
     </div>



     <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
      <div class="card-title"><strong>Family Details</strong></div>
      <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">
        <table class="table table-striped table-bordered table-sm row-border hover" id="familyTable">
          <thead>
            <tr>
              <th style="color: #351431; font-size:10px" class="text-left">Full Name</th>
              <th style="color: #351431; font-size:10px" class="text-left">Gender</th>
              <th style="color: #351431;font-size:10px" class="text-left">ID Type</th>
              <th style="color: #351431;font-size:10px" class="text-left">ID Number</th>
              <th style="color: #351431;font-size:10px" class="text-left">Relationship</th>
              <th style="color: #351431;font-size:10px" class="text-left">Status</th>
              <th style="color: #351431;font-size:10px" class="text-left">Contact details</th>

              <th style="color: #351431;font-size:10px" class="text-left">Action</th>


            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let member of employeeDetails.familyDetails">
              <td style="font-size:10px" class="text-left">{{member.first_name | lowercase | titlecase}} {{member.last_name | lowercase | titlecase}} </td>
              <td style="font-size:10px" class="text-left"> {{member.gender | lowercase | titlecase}}</td>
              <td style="font-size:10px" class="text-left">{{member.id_type }}</td>
              <td style="font-size:10px" class="text-left">{{member.id_number}}</td>
              <td style="font-size:10px" class="text-left">{{member.relationship_code | lowercase | titlecase}}</td>
              <td style="font-size:10px" class="text-left">
                {{member.record_status | lowercase | titlecase}}
              </td>
              <td style="font-size:10px" class="text-left">
                <p>{{member.mobile_number}}<br/>{{member.email_address}}</p>

              </td>
              <td style="font-size:10px" class="text-left">
               <button (click)="pullFamilyDoc(member.id)" class="custom-btn  " >View</button>
              </td>


            </tr>
          </tbody>
        </table>

      </div>
     </div>

     <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
      <div class="card-title"><strong>Qualifications</strong></div>
      <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">
        <table class="table table-striped table-bordered table-sm row-border hover" id="familyTable">
          <thead>
            <tr>
              <th style="color: #351431; font-size:10px" class="text-left">Qualification</th>
              <th style="color: #351431; font-size:10px" class="text-left">Qualification Type</th>
              <th style="color: #351431; font-size:10px" class="text-left">Status</th>
              <th style="color: #351431;font-size:10px" class="text-left">Action</th>


            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let qualifications of employeeDetails.qualifications">
              <td style="font-size:10px" class="text-left">{{qualifications.qualification  | lowercase | titlecase}} </td>
              <td style="font-size:10px" class="text-left"> {{qualifications.qualification_type_code | lowercase | titlecase}}</td>
              <td style="font-size:10px" class="text-left">{{qualifications.record_status  | lowercase | titlecase}} </td>
              <td style="font-size:10px" class="text-left">
               <button (click)="pullQualificationDic(qualifications.id)" class="custom-btn  " >View</button>
              </td>


            </tr>
          </tbody>
        </table>

      </div>
     </div>


  </div>

  <div class="col-lg-4 col-md-6 col-sm-6">
    <div class="row">
        <div class="col-lg-12 col-md-6 col-sm-6">
            <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
                <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">

                  <div style="font-family: Arial, sans-serif;  padding: 16px; border-radius: 8px;  ">
                    <!-- Header -->
                    <div style="font-size: 18px; font-weight: bold; color: #333; margin-bottom: 16px;">
                      Personal Information
                    </div>

                    <!-- Email Address -->
                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 10px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M12 13l-8-5.5V18h16V7.5L12 13zm0-2.7l7.2-4.9H4.8L12 10.3z"></path>
                      </svg>
                      <div style="font-size: 12px; ">
                        <div>Email Address:  <a  href="mailto:{{employeeDetails.contact[0].personal_email}}" style="display: inline-block; color: #A11E23; text-decoration: none; border: 1px solid #A11E23; padding: 2px 8px; border-radius: 12px; font-size: 12px;">{{employeeDetails.contact[0].personal_email}}</a></div>

                      </div>
                    </div>

                    <!-- Phone Number -->
                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M6.6 10.8a15.4 15.4 0 006.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 1.2.4 2.5.6 3.8.6.6 0 1 .5 1 1v3.4c0 .6-.5 1-1 1C12.4 22 2 11.6 2 4c0-.6.5-1 1-1h3.4c.6 0 1 .5 1 1 0 1.3.2 2.6.6 3.8.1.4 0 .8-.3 1.1l-2.2 2.2z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Phone Number: <a href="tel:{{employeeDetails.contact[0].phone_no}}" style="display: inline-block; color: #A11E23; text-decoration: none; border: 1px solid #A11E23; padding: 2px 8px; border-radius: 12px; font-size: 12px;">{{employeeDetails.contact[0].phone_no}}</a> </div>

                      </div>
                    </div>

                    <!-- Gender -->
                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M12 2C9.24 2 7 4.24 7 7c0 2.22 1.64 4.07 3.78 4.45C9.1 12.09 8 13.84 8 16c0 2.76 2.24 5 5 5s5-2.24 5-5c0-2.16-1.1-3.91-2.78-4.55C15.36 11.07 17 9.22 17 7c0-2.76-2.24-5-5-5z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Gender: {{employeeDetails.employee[0].gender | lowercase | titlecase}}</div>

                      </div>
                    </div>
                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M12 2C9.24 2 7 4.24 7 7c0 2.22 1.64 4.07 3.78 4.45C9.1 12.09 8 13.84 8 16c0 2.76 2.24 5 5 5s5-2.24 5-5c0-2.16-1.1-3.91-2.78-4.55C15.36 11.07 17 9.22 17 7c0-2.76-2.24-5-5-5z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Marital Status: {{employeeDetails.employee[0].marital_status | lowercase | titlecase}}</div>

                      </div>
                    </div>

                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M12 2C9.24 2 7 4.24 7 7c0 2.22 1.64 4.07 3.78 4.45C9.1 12.09 8 13.84 8 16c0 2.76 2.24 5 5 5s5-2.24 5-5c0-2.16-1.1-3.91-2.78-4.55C15.36 11.07 17 9.22 17 7c0-2.76-2.24-5-5-5z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Nationality: {{employeeDetails.employee[0].nationality_code | lowercase | titlecase}}</div>

                      </div>
                    </div>

                    <!-- Birthdate -->
                    <div style="display: flex; align-items: center; margin-bottom: 12px; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Birthdate: {{employeeDetails.employee[0].dob}}</div>

                      </div>
                    </div>

                    <!-- Living Address -->
                    <div style="display: flex; align-items: center; font-size: 14px; color: #555;">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 3.25 2.42 6.75 7.05 11.33.5.5 1.35.5 1.85 0C16.58 15.75 19 12.25 19 9c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"></path>
                      </svg>
                      <div style="font-size: 12px;">
                        <div>Residential Address: {{employeeDetails.contact[0].physical_address | lowercase | titlecase}}</div>

                      </div>
                    </div>
                  </div>

                  <hr>



                </div>
            </div>
        </div>





    </div>
</div>


</div>
