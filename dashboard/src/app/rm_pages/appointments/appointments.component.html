<div>
  <app-spinner *ngIf="isLoading">

  </app-spinner>
</div>

<div *ngIf="isCreate" class="row">
  <div class="col-lg-12 col-md-6 col-sm-6">
      <div class="card card-stats" style="padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
          <div class="card-body" style="padding-bottom: 10px; margin-bottom: 5px;">
            <form #Form="ngForm" (ngSubmit)="Formdata(Form.value)">

              <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Client Name</label>

                            <input style="padding: 5px;border-radius: 1rem" type="text" ngModel name="name" id="typeEmailX-2" class="form-control form-control-lg" required #name="ngModel" />
                            <div *ngIf="name.invalid && name.touched" style="color:red;">client Name is required</div>


                        </div>
                    </div>
                    <div class="col-md-6 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Client Phone Number</label>
                            <input style="padding: 5px;border-radius: 1rem" type="text" ngModel name="phone" id="typePasswordX-2" class="form-control form-control-lg" required #phone="ngModel" />
                            <div *ngIf="phone.invalid && phone.touched" style="color:red;">Client phone number is required</div>


                        </div>
                    </div>

                </div>
              </div>

              <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Client Email</label>

                            <input style="padding: 5px;border-radius: 1rem" type="text" ngModel name="email" id="typeEmailX-2" class="form-control form-control-lg" required #email="ngModel" />
                            <div *ngIf="email.invalid && email.touched" style="color:red;">Client email is required</div>
                        </div>
                    </div>
                    <div class="col-md-6 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Meeting Location</label>
                            <input style="padding: 5px;border-radius: 1rem" type="text" ngModel name="address" id="typePasswordX-2" class="form-control form-control-lg" required #address="ngModel" />
                            <div *ngIf="address.invalid && address.touched" style="color:red;">client address is required</div>


                        </div>
                    </div>

                </div>
              </div>
              <div class="col-md-12">

                <div class="row">
                    <div class="col-md-6 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Meeting Date</label>

                            <input style="padding: 5px;border-radius: 1rem" type="date" ngModel name="meeting_date" id="typeEmailX-2" class="form-control form-control-lg" required #meeting_date="ngModel" />
                            <div *ngIf="meeting_date.invalid && meeting_date.touched" style="color:red;">Meeting Date is required</div>
                        </div>
                    </div>
                </div>
              </div>


              <div class="col-md-12">
                <div class="row">
                    <div class="col-md-12 4pr-1">
                        <div class="form-group">
                            <label style="color:black">Purpose of appointment</label>

                            <div style="background: #f4f4f4; padding: 10px; margin-bottom: 10px; display: flex; gap: 10px;">
                              <button (click)="applyFormat('bold')" type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px; font-weight: bold;">B</button>
                              <button (click)="applyFormat('italic')" type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px; font-style: italic;">I</button>
                              <button (click)="applyFormat('underline')"type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px; text-decoration: underline;">U</button>
                              <button (click)="applyFormat('strikeThrough')"type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px; text-decoration: line-through;">S</button>
                              <button (click)="applyFormat('insertUnorderedList')"type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px;">â€¢</button>
                              <select (change)="applyFontSize($event)" type="button" style="padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #fff; font-size: 14px;">
                                <option value="1">Small</option>
                                <option value="3">Normal</option>
                                <option value="5">Large</option>
                                <option value="7">Extra Large</option>
                              </select>
                            </div>

                            <div
                              #editor
                              contenteditable="true"
                              style="border: 1px solid #ddd; padding: 10px; border-radius:20px; min-height: 200px; font-family: Arial, sans-serif;"
                              (blur)="validateEditor()"
                              [class.invalid]="editorInvalid">
                            </div>

                            <div *ngIf="editorInvalid" style="color: red;">Editor content is required.</div>


                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
              <div class="row">
                  <div class="col-md-3 4pr-1">
                    <style>
                      .custom-btn {
                          background-color: #A11F23;
                          border-radius: 2rem;
                          border: none;
                          color: white;
                          width: 100%;
                      }

                      .custom-btn:hover {
                          background-color: #FDAE1C !important;
                      }
                  </style>
                    <button class="custom-btn btn btn-lg btn-block" type="submit" [disabled]="Form.invalid">
                      Submit
                  </button>
                  </div>
              </div>
          </div>
          </form>
          </div>

      </div>
  </div>

</div>


<div *ngIf="isPending"  class="row">
  <div class="col-md-12">
      <div class="card ">
          <div class="card-header ">
          </div>
          <div class="card-body ">
              <div class="table-responsive">
                <style>
                  .custom-btn {
                      background-color: #A11F23;
                      border-radius: 2rem;
                      border: none;
                      color: white;
                      width: 300px;
                  }

                  .custom-btn:hover {
                      background-color: #FDAE1C !important;
                  }
              </style>                <!-- Button to toggle hidden columns -->


<!-- DataTable -->
<table class="table table-striped table-bordered table-sm row-border hover" id="AppointmentsPendingTable">
  <thead>
    <tr>
      <th style="color: #351431; font-size:10px" class="text-left">Client Name</th>
      <th style="color: #351431;font-size:10px" class="text-left">Meeting Date</th>
      <th style="color: #351431;font-size:10px" class="text-left">Purpose</th>
      <th style="color: #351431;font-size:10px" class="text-left">Status</th>

    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let Appointment of Appointments">
      <td style="font-size:10px" class="text-left">{{ Appointment.client_name }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.meeting_date | date }}</td>
      <td style="font-size:10px" class="text-left" [innerHTML]="Appointment.purpose"></td>
      <td style="font-size:10px" class="text-left">{{ Appointment.status }}</td>

    </tr>
  </tbody>
</table>

              </div>
          </div>
      </div>
  </div>
</div>



<div *ngIf="isApproved"  class="row">
  <div class="col-md-12">
      <div class="card ">
          <div class="card-header ">
          </div>
          <div class="card-body ">
              <div class="table-responsive">
                <style>
                  .custom-btn {
                      background-color: #A11F23;
                      border-radius: 2rem;
                      border: none;
                      color: white;
                      width: 300px;
                  }

                  .custom-btn:hover {
                      background-color: #FDAE1C !important;
                  }
              </style>                <!-- Button to toggle hidden columns -->


<!-- DataTable -->
<table class="table table-striped table-bordered table-sm row-border hover" id="AppointmentsPendingTable">
  <thead>
    <tr>
      <th style="color: #351431; font-size:10px" class="text-left">Client Name</th>


      <th style="color: #351431;font-size:10px" class="text-left">Meeting Date</th>
      <th style="color: #351431;font-size:10px" class="text-left">Purpose</th>
      <th style="color: #351431;font-size:10px" class="text-left">Status</th>

    </tr>
  </thead>
  <tbody>
    <tr (click)="showDetails(Appointment.id)" *ngFor="let Appointment of Appointments">
      <td style="font-size:10px" class="text-left">{{ Appointment.client_name }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.meeting_date | date }}</td>
      <td style="font-size:10px" class="text-left" [innerHTML]="Appointment.purpose"></td>
      <td style="font-size:10px" class="text-left">{{ Appointment.status }}</td>

    </tr>
  </tbody>
</table>

              </div>
          </div>
      </div>
  </div>
</div>

<div *ngIf="isDeclined"  class="row">
  <div class="col-md-12">
      <div class="card ">
          <div class="card-header ">
          </div>
          <div class="card-body ">
              <div class="table-responsive">
                <style>
                  .custom-btn {
                      background-color: #A11F23;
                      border-radius: 2rem;
                      border: none;
                      color: white;
                      width: 300px;
                  }

                  .custom-btn:hover {
                      background-color: #FDAE1C !important;
                  }
              </style>                <!-- Button to toggle hidden columns -->
<button id="toggleColumnsBtn" class="btn btn-primary custom-btn" >Show Hidden Columns</button>

<!-- DataTable -->
<table class="table table-striped table-bordered table-sm row-border hover" id="AppointmentsPendingTable">
  <thead>
    <tr>
      <th style="color: #351431; font-size:10px" class="text-left">Client Name</th>
      <th style="color: #351431;font-size:10px" class="text-left">Client Phone</th>
      <th style="color: #351431;font-size:10px" class="text-left">Client Email </th>
      <th style="color: #351431;font-size:10px" class="text-left">Client Address</th>
      <th style="color: #351431;font-size:10px" class="text-left">Meeting Date</th>
      <th style="color: #351431;font-size:10px" class="text-left">Purpose</th>
      <th style="color: #351431;font-size:10px" class="text-left">Status</th>
      <th style="color: #351431;font-size:10px" class="text-left">Action</th>

    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let Appointment of Appointments">
      <td style="font-size:10px" class="text-left">{{ Appointment.client_name }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.client_phone }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.client_email }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.client_address }}</td>
      <td style="font-size:10px" class="text-left">{{ Appointment.meeting_date | date }}</td>
      <td style="font-size:10px" class="text-left" [innerHTML]="Appointment.purpose"></td>
      <td style="font-size:10px" class="text-left">{{ Appointment.status }}</td>
      <td style="font-size:10px" class="text-left"></td>

    </tr>
  </tbody>
</table>

              </div>
          </div>
      </div>
  </div>
</div>
